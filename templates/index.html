<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <title>Home</title>
    <link
      rel="icon"
      type="image/png"
      href="{{ url_for('static', filename='images/bot.png') }}"
    />
    <link
      rel="manifest"
      href="{{ url_for('static', filename='manifest.json') }}"
    />
    <meta name="theme-color" content="#0f172a" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
      };
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <style>
      /* Use the Inter font family */
      body {
        font-family: "Inter", sans-serif;
        transition: background-color 0.5s, color 0.5s;
        padding: 1.5rem;
        padding-top: calc(1.5rem + env(safe-area-inset-top));
        padding-right: calc(1.5rem + env(safe-area-inset-right));
        padding-bottom: calc(1.5rem + env(safe-area-inset-bottom));
        padding-left: calc(1.5rem + env(safe-area-inset-left));
      }

      @media (min-width: 768px) {
        /* md breakpoint */
        body {
          padding: 3rem; /* Equivalent to p-12 */
        }
      }

      /* Base styles for the action buttons */
      .action-button {
        transition: transform 0.1s ease-in-out, background-color 0.2s ease,
          color 0.2s ease;
        text-decoration: none;
        display: flex;
      }

      /* Custom class for the active button state */
      .active-button {
        background-color: #312e81;
        color: white;
        transform: scale(0.98);
      }
      .active-button svg {
        color: white;
      }
    </style>
  </head>
  <body
    class="bg-gray-200 dark:bg-gray-900 flex flex-col min-h-dvh transition-colors duration-300"
  >
    <button
      id="theme-toggle"
      class="fixed top-6 right-6 text-indigo-900 dark:text-indigo-100 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 px-3 py-1 rounded-md shadow hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-300 z-10"
    >
      üåô
    </button>

    <main class="flex-1 flex items-center justify-center">
      <div
        class="bg-white dark:bg-gray-800 max-w-sm w-full rounded-3xl shadow-lg overflow-hidden md:max-w-3xl transition-colors duration-300"
      >
        <div class="p-5">
          <div class="md:flex md:items-center md:gap-8">
            <div class="md:w-1/2">
              <h1 class="text-4xl font-bold text-gray-800 dark:text-white">
                ·Äô·ÄÑ·Ä∫·Äπ·ÄÇ·Äú·Ä¨·Äï·Ä´
              </h1>
              <p
                class="text-xl text-gray-600 dark:text-gray-300 mt-2"
                style="line-height: 2.0"
              >
                LannPya Bot (·Äú·Äô·Ä∫·Ä∏·Äï·Äº·Äò·Ä±·Ä¨·Ä∑) ·ÄÄ ·ÄÄ·Äº·Ä≠·ÄØ·ÄÜ·Ä≠·ÄØ·Äï·Ä´·Äê·Äö·Ä∫
              </p>
              <div id="action-buttons-container" class="mt-8 space-y-4">
                <a
                  href="{{ url_for('chat_page') }}"
                  class="action-button w-full justify-between items-center bg-white dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 border border-gray-200 dark:border-gray-600 transition-colors p-4 rounded-xl"
                >
                  <span
                    class="font-semibold text-lg text-gray-800 dark:text-gray-200"
                    >·ÄÜ·ÄΩ·Ä±·Ä∏·Äî·ÄΩ·Ä±·Ä∏ (Chat)</span
                  >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6 text-gray-600 dark:text-gray-400"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M9 5l7 7-7 7"
                    />
                  </svg>
                </a>
                <a
                  href="{{ url_for('content_checker_page') }}"
                  class="action-button w-full justify-between items-center bg-white dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 border border-gray-200 dark:border-gray-600 transition-colors p-4 rounded-xl"
                >
                  <span
                    class="font-semibold text-lg text-gray-800 dark:text-gray-200"
                    >·ÄÖ·ÄÖ·Ä∫·ÄÜ·Ä±·Ä∏ (Check)</span
                  >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6 text-gray-600 dark:text-gray-400"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M9 5l7 7-7 7"
                    />
                  </svg>
                </a>
                <a
                  href="{{ url_for('scenario_simulation_page') }}"
                  class="action-button w-full justify-between items-center bg-white dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 border border-gray-200 dark:border-gray-600 transition-colors p-4 rounded-xl"
                >
                  <span
                    class="font-semibold text-lg text-gray-800 dark:text-gray-200"
                    >·ÄÜ·Äî·Ä∫·Ä∏·ÄÖ·ÄÖ·Ä∫ (Simulation)</span
                  >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6 text-gray-600 dark:text-gray-400"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M9 5l7 7-7 7"
                    />
                  </svg>
                </a>
                <a
                  href="{{ url_for('interactive_quiz_page') }}"
                  class="action-button w-full justify-between items-center bg-white dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 border border-gray-200 dark:border-gray-600 transition-colors p-4 rounded-xl"
                >
                  <span
                    class="font-semibold text-lg text-gray-800 dark:text-gray-200"
                    >·Äú·Ä±·Ä∑·Äú·Ä¨ (Quiz)</span
                  >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6 text-gray-600 dark:text-gray-400"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M9 5l7 7-7 7"
                    />
                  </svg>
                </a>
              </div>
            </div>

            <div class="md:w-1/2">
              <div
                class="flex justify-center mt-8 md:mt-0"
              >
                <img
                  src="{{ url_for('static', filename='images/logo.png') }}"
                  alt="Friendly Robot Mascot"
                  class="h-48 w-auto"
                  onerror="this.onerror=null;this.src='https://placehold.co/200x200/FFFFFF/333?text=ü§ñ';"
                />
              </div>
              <div
                class="bg-indigo-900 text-white p-6 text-center rounded-2xl mt-8"
              >
                <h2 class="text-xl font-bold">Tip of the day</h2>
                <p id="tip-text" class="mt-2 text-indigo-200 text-sm"></p>
                <a
                  id="learnMoreButton"
                  href="{{ url_for('chat_page') }}"
                  class="mt-4 bg-white text-indigo-900 font-bold py-2 px-5 rounded-full flex items-center justify-center mx-auto hover:bg-gray-200 transition-colors text-sm"
                >
                  <span>Learn More</span>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-4 w-4 ml-2"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M9 5l7 7-7 7"
                    />
                  </svg>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <footer class="text-center text-sm text-gray-500 dark:text-gray-400 py-6">
      <p class="font-semibold text-indigo-600 dark:text-indigo-400">
        Developed by GUSTO College Team
      </p>
      <p class="text-xs text-gray-400 dark:text-gray-500 mt-2">
        Kaung Zaw Hein, Aung Min Myat, Zin Zin Pwint Han
      </p>
    </footer>

    <script>
      // SCRIPT UNCHANGED
      const actionButtons = document.querySelectorAll("a.action-button");
      function resetButtonStyles() {
        actionButtons.forEach((button) => {
          button.classList.remove("active-button");
        });
      }
      actionButtons.forEach((button) => {
        button.addEventListener("click", () => {
          resetButtonStyles();
          button.classList.add("active-button");
        });
      });
      const tipTextElement = document.getElementById("tip-text");
      const learnMoreButton = document.getElementById("learnMoreButton");
      if (tipTextElement && learnMoreButton) {
        const tipContent = tipTextElement.textContent.trim();
        const message = `Tell me more about ${tipContent}`;
        const encodedMessage = encodeURIComponent(message);
        learnMoreButton.href = `{{ url_for('chat_page') }}?q=${encodedMessage}`;
      }
      async function loadRandomTip() {
        try {
          const res = await fetch("/random-tip");
          const data = await res.json();
          const tipEl = document.getElementById("tip-text");
          tipEl.textContent = `${data.topic} Tip: ${data.tip}`;
          const message = `Tell me more about ${tipEl.textContent.trim()}`;
          const encodedMessage = encodeURIComponent(message);
          document.getElementById(
            "learnMoreButton"
          ).href = `{{ url_for('chat_page') }}?q=${encodedMessage}`;
        } catch {
          const tipEl = document.getElementById("tip-text");
          tipEl.textContent =
            "Stay safe online! Use unique passwords and enable 2FA.";
        }
      }
      (function () {
        const html = document.documentElement;
        const btn = document.getElementById("theme-toggle");
        if (localStorage.getItem("theme") === "light") {
          html.classList.remove("dark");
          btn.textContent = "üåô";
        } else {
          html.classList.add("dark");
          btn.textContent = "‚òÄÔ∏è";
        }
        btn.addEventListener("click", () => {
          const isDark = html.classList.contains("dark");
          if (isDark) {
            html.classList.remove("dark");
            localStorage.setItem("theme", "light");
            btn.textContent = "üåô";
          } else {
            html.classList.add("dark");
            localStorage.setItem("theme", "dark");
            btn.textContent = "‚òÄÔ∏è";
          }
        });
      })();
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker
          .register('{{ url_for("static", filename="service-worker.js") }}')
          .then((reg) => console.log("Service Worker registered!", reg))
          .catch((err) =>
            console.log("Service Worker registration failed!", err)
          );
      }
      loadRandomTip();
    </script>
  </body>
</html>
